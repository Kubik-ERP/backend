<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>{{reportData.reportName}}</title>
  <style>
    /* STYLE GLOBAL DARI TEMPLATE VUE ANDA 
      Ini penting untuk memberitahu Puppeteer cara me-render
    */
    body {
      font-family: Arial, sans-serif;
      font-size: 10px;
      color: #333;
      margin: 0;
    }
    
    /* Ini adalah trik untuk membuat header/footer berulang 
      pada setiap halaman PDF yang dicetak.
    */
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 8pt;
    }
    
    thead {
      /* Ini memberitahu PDF untuk mengulang header tabel di setiap halaman */
      display: table-header-group; 
    }
    
    tfoot {
      /* Ini akan menampilkan total di bagian bawah tabel */
      display: table-footer-group;
    }
    
    tr {
      /* Mencegah satu baris terbelah di antara dua halaman */
      page-break-inside: avoid;
    }

    th {
      padding: 8px;
      border: 1px solid #ddd;
      text-align: center;
      font-weight: bold;
      background-color: #f2f2f2;
    }
    
    td {
      padding: 8px;
      text-align: center;
      border: 1px solid #ddd;
    }
    
    /* Perbaikan dari template Anda:
      Kolom 'Name' (grup) harus rata kiri agar mudah dibaca.
    */
    tbody td:first-child, tfoot td:first-child {
      text-align: left;
    }
    
    /* Perbaikan dari template Anda:
      Angka harus rata kanan.
    */
    .text-right {
      text-align: right;
    }
    
    .text-center {
      text-align: center;
    }

    /* Navbar dari template Vue Anda */
    #navbar {
      background-color: #ffefe8;
      padding: 24px 32px;
      border-bottom: 1px solid #f3631d;
    }

    /* Wadah utama, memberi padding 
      (Anda bisa sesuaikan ini dengan margin @page) 
    */
    .content-container {
      padding: 0px 32px;
    }

    /* Header Laporan dari template Vue Anda */
    .main-header-container {
      border-bottom: 1px solid #f3631d;
      padding: 16px;
      margin: 32px auto 32px auto; /* Tambah margin bawah */
      min-height: 201px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
  </style>
</head>
<body>

  <div id="navbar">
    <div style="width: 200px; height: 40px; background: #eee; border: 1px solid #ccc; text-align: center; line-height: 40px; font-weight: bold; color: #aaa;">
      KUBIKPOS LOGO
    </div>
  </div>

  <div class="content-container">
    
    <div class="main-header-container">
      <div style="font-size: 16pt; font-weight: bold; color: #333333;">
        {{ reportData.reportName }}
      </div>
      <h2 style="font-size: 12pt; font-weight: bold; color: #b7b7b7; margin: 0;">
        {{ reportData.storeName }}
      </h2>
      <h2 style="font-size: 12pt; font-weight: bold; color: #333333; margin: 0;">
        {{ reportData.storeAddress }}
      </h2>
      <h2 style="font-size: 12pt; font-weight: bold; color: #333333; margin: 0;">
        Staff Member : {{ reportData.staffMember }}
      </h2>
      <h2 style="font-size: 10pt; color: #b7b7b7; margin: 0;">
        Period : {{ reportData.period }} | Printed on {{ reportData.printDate }}, {{ reportData.printTime }}
      </h2>
    </div>

    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Qty Sold</th>
          <th class="text-right">Gross Sales</th>
          <th class="text-right">Tax</th>
          <th class="text-right">Service Charge</th>
          <th class="text-right">Discount</th>
          <th class="text-right">Nett Sales</th>
          <th>Voucher Used</th>
        </tr>
      </thead>
      <tbody>
        {{#each groupedSummary}}
        <tr>
          <td>{{group}}</td>
          <td class="text-center">{{jumlahTerjual}}</td>
          <td class="text-right">Rp {{kotor}}</td>
          <td class="text-right">Rp {{pajak}}</td>
          <td class="text-right">Rp 0</td> <td class="text-right">Rp {{diskonItem}}</td>
          <td class="text-right">Rp {{totalPenjualan}}</td>
          <td class="text-center">{{countPenggunaanVoucher}}</td>
        </tr>
        {{/each}}
      </tbody>
      <tfoot style="font-weight: bold; background-color: #f2f2f2;">
        <tr>
          <td>TOTAL</td>
          <td class="text-center">{{overallSummary.jumlahTerjual}}</td>
          <td class="text-right">Rp {{overallSummary.kotor}}</td>
          <td class="text-right">Rp {{overallSummary.pajak}}</td>
          <td class="text-right">Rp 0</td>
          <td class="text-right">Rp {{overallSummary.diskonItem}}</td>
          <td class="text-right">Rp {{overallSummary.totalPenjualan}}</td>
          <td class="text-center">{{overallSummary.countPenggunaanVoucher}}</td>
        </tr>
      </tfoot>
    </table>

  </div>

  <footer
    style="
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 10px 32px;
      font-size: 8pt;
      color: #888;
      border-top: 1px solid #eee;
      background-color: white; /* Beri background agar tidak transparan */
    "
  >
    <p style="margin: 0; margin-right: 5px;">Powered by</p>
    <div style="width: 80px; height: 20px; background: #eee; border: 1px solid #ccc; text-align: center; line-height: 20px; font-weight: bold; color: #aaa; font-size: 6pt;">
      KUBIKPOS
    </div>
  </footer>

</body>
</html>